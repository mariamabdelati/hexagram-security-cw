{% extends 'base.html' %}
{% block title %}
PROJECTS@HEXAGRAM Projects
{% endblock %}
{% block content %}

<div class="row" style="margin-top:20px; margin-left:20px">
   <div class="col-8">
      <h1 style="text-align:center;">Projects</h1>
   
      {% if projects %}
         <p style="text-align:center;">All projects are shown below</p>
         <br>
         <hr class="intro-divider">
         <div class="center">
            <table class="table table-striped table-dark">
               <thead>
                  <tr>
                     <!-- Projects Columns -->
                     <th scope="col">Project Name</th>
                     <th scope="col">Estimated Work Hours</th>
                     <th scope="col">Status</th>
                     <th scope="col">Last Updated</th>
                     <th scope="col">Options</th>
                  </tr>
               </thead>

               <tbody>
                  <!-- Project Rows -->
                  {% for project in projects %}
                  {% include 'admin/projects/projects_modals.html' %}
                  <tr>
                     <td>{{ project.name }}</td>
                     <td>{{ project.hours }}</td>
                     <td>{{ project.status }}</td>
                     <td>{% if project.status == "Open" %}
                        {{ project.last_updated }}
                        {% else %}
                        -
                     {% endif %}
                     </td>
                     <td>
                        {% if project.status != "Open" %}
                              <button class="btn btn-outline btn-info" data-toggle="modal" data-target="#Modal-MoreInfo-{{ project.id }}">More info about Project</button>
                              <button href="/projects/update_project" class="btn btn-outline btn-success" data-toggle="modal" data-target="#modal_project-{{ project.id }}">Complete Project</button>
                        {% endif %}
                        <button href="/projects/update_project" class="btn btn-warning btn-xs" data-toggle="modal" data-target="#modal_edit_project-{{ project.id }}">Schedule Project </button>
                        <button href="/projects/delete_project" class="btn btn-outline btn-danger" data-toggle="modal" data-target="#modal_delete_project-{{ project.id }}">Delete Project</button>
                     </td>
                  </tr>
                  {% endfor %}
               </tbody>
            </table>
         </div>
         {% else %}
            <div style="text-align: center">
               <h3> No projects available. </h3>
               <hr class="intro-divider">
            </div>
         {% endif %}
         <div style="text-align: center">
            <button href="/projects/add_project" class="btn btn-outline btn-info" data-toggle="modal" data-target="#modal_add_project">Add Project</button>      
       </div>
   </div>
    </div>
{% endblock %}