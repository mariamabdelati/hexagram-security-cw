{% extends 'base.html' %}
{% block title %}
PROJECTS@HEXAGRAM Projects
{% endblock %}
{% block content %}

<div class="row" style="margin-top:20px; margin-left:20px">
   <div class="col-8">
      <h1 style="text-align:center;">Projects</h1>
   
      {% if projects %}
         <p style="text-align:center;">All projects are shown below</p>
         <br>
         <hr class="intro-divider">
         <div class="center">
            <table class="table table-striped table-dark">
               <thead>
                  <tr>
                     <!-- Projects Columns -->
                     <th scope="col">Project Name</th>
                     <th scope="col">Estimated Work Hours</th>
                     <th scope="col">Status</th>
                     <th scope="col">Last Updated</th>
                     <th scope="col">More Info</th>
                     <th scope="col">Complete Project</th>
                     <th scope="col">Update Project Details</th>
                     <th scope="col">Assign Project</th>
                     <th scope="col">Delete Project</th>
                  </tr>
               </thead>

               <tbody>
                  <!-- Project Rows -->
                  {% for project in projects %}
                  {% include 'admin/projects/projects_modals.html' %}
                  <tr>
                     <td>{{ project.name }}</td>
                     <td>{{ project.hours }}</td>
                     <td>{{ project.status }}</td>
                     <td>{% if project.status == "open" %}
                        {{ project.last_updated }}
                        {% else %}
                        -
                     {% endif %}
                     </td>
                     {% if project.status != "open" %}
                        <td><button class="btn btn-outline-info" data-toggle="modal" data-target="#Modal-MoreInfo-{{ project.id }}">More info about Project</button></td>
                        <td><button href="/projects/update_project" class="btn btn-outline-success" data-toggle="modal" data-target="#modal_project-{{ project.id }}">Complete Project</button></td>
                     {% else %}
                        <td>-</td>
                        <td>-</td>
                     {% endif %}
                     <td><button href="/projects/update_project" class="btn btn-outline-light" data-toggle="modal" data-target="#modal_edit_project-{{ project.id }}">Schedule Project </button></td>
                     <td><a href="projects/assign_project/{{project.id}}" class="btn btn-outline-light"><i class="fa fa-user-plus"></i> Assign </a></td>
                     <td><button href="/projects/delete_project" class="btn btn-outline-danger" data-toggle="modal" data-target="#modal_delete_project-{{ project.id }}">Delete Project</button></td>
                  </tr>
                  {% endfor %}
               </tbody>
            </table>
         </div>
         {% else %}
            <div style="text-align: center">
               <h3> No projects available. </h3>
               <hr class="intro-divider">
            </div>
         {% endif %}
         <div style="text-align: center">
            <button href="/projects/add_project" class="btn btn-outline-light" data-toggle="modal" data-target="#modal_add_project">Add Project</button>      
       </div>
   </div>

</div>
{% endblock %}